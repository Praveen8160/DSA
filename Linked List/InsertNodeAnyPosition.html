<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    class Node {
      constructor(value) {
        this.value = value;
        this.next = null;
      }
    }
    class List {
      constructor(data) {
        this.length = 0;
        if (data) {
          let newnode = new Node(data);
          this.head = newnode;
          this.tail = newnode;
          this.length += 1;
        } else {
          this.head = null;
          this.tail = null;
        }
      }
      printlist() {
        let current = this.head;
        while (current) {
          console.log(current.value);
          current = current.next;
        }
      }
      addnode(value) {
        let newNode = new Node(value);
        if (this.length === 0) {
          this.head = newNode;
          this.tail = newNode;
          this.length += 1;
        } else {
          this.tail.next = newNode;
          this.tail = newNode;
          this.length += 1;
        }
      }
      InsertAnyPosition(value, index) {
        let newNode = new Node(value);
        if (index == 1 && this.length == 0) {
          this.head = newNode;
          this.tail = newNode;
          this.length += 1;
        } else if (index === 0 || index > this.length + 1 || index < 0) {
          console.log("enter valid index");
        } else if (index === this.length + 1) {
          let lead = this.head;
          let count = 1;
          while (count <= this.length) {
            if (count === this.length) {
              lead.next = newNode;
              this.tail = newNode;
              this.length += 1;
              break;
            }
            lead = lead.next;
            count += 1;
          }
        } else if (index === 1) {
          newNode.next = this.head;
          this.head = newNode;
          this.length += 1;
        } else {
          let lead = this.head;
          for (let i = 1; i < index; i++) {
            if (i === index - 1) {
              newNode.next = lead.next;
              lead.next = newNode;
              this.length += 1;
              break;
            }
            lead = lead.next;
          }
        }
      }
      getcount() {
        console.log(this.length);
      }
      searchingonindex(index) {
        let lead = this.head;
        if (this.tail == null) {
          console.log("list is empty");
        } else if (index > this.length || index == 0) {
          console.log("index out of bound");
        } else {
          let count = 1;
          while (count <= index) {
            if (count == index) {
              console.log(`index ${index} value is ${lead.value}`);
              break;
            }
            lead = lead.next;
            count += 1;
          }
        }
      }
      serchingonvalue(value) {
        let count = 1;
        let lead = this.head;
        while (count <= this.length) {
          if (value === lead.value) {
            console.log(lead);
            return true;
          }
          lead = lead.next;
          count += 1;
        }
        return false;
      }
    }
    let list = new List();
    list.addnode(20);
    list.addnode(30);
    list.addnode(50);
    console.log("initial", list);
    list.InsertAnyPosition(10, 1);
    console.log("first posotion", list);
    list.InsertAnyPosition(40, 4);
    list.InsertAnyPosition(60, 6);
    list.searchingonindex(0);
    console.log(list.serchingonvalue(40));
    console.log(list);
  </script>
</html>
